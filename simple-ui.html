<!DOCTYPE html>
<html>
    <head>
        <title>Rock Paper Scissors</title>
        <meta charset="UTF-8"/>
    </head>
    <body>
        <h2>Rock, paper or scissors?</h2>
        <button id="rock">Rock</button>
        <button id="paper">Paper</button>
        <button id="scissors">Scissors</button>

        <div id="game-progress"></div>

        <script>
            let playerSelection;
            let computerSelection;

            let playerScore = 0;
            let computerScore = 0;

            const gameProgress = document.querySelector('#game-progress');
            const content = document.createElement('p');
            
            function selectShape() {
                const rock = document.querySelector('#rock');
                rock.addEventListener('click', () => {
                    return "Rock";
                });
                const paper = document.querySelector('#paper');
                paper.addEventListener('click', () => {
                    return "Paper";
                });
                const scissors = document.querySelector('#scissors');
                scissors.addEventListener('click', () => {
                    return "Scissors";
                });
            }
            
            function computerPlay() {
                shapeNum = Math.floor(Math.random() * 3)
                if (shapeNum == 0) {
                    return "Rock";
                }
                else if (shapeNum == 1) {
                    return "Paper";
                }
                else {
                    return "Scissors"
                }
            }

            function playRound(playerSelection, computerSelection) {
                playerSelection = selectShape();
                computerSelection = computerPlay();

                content.classList.add('content');
                content.textContent = `You have chosen ${playerSelection}
                    and your opponent has chosen ${computerSelection}`;
                gameProgress.appendChild(content);

                if (playerSelection == computerSelection) {
                    alert(`It's a draw! Your opponent also used ${computerSelection}`);
                } 
                else if (
                    (playerSelection == "Rock" && computerSelection == "Scissors") ||
                    (playerSelection == "Paper" && computerSelection == "Rock") ||
                    (playerSelection == "Scissors" && computerSelection == "Papers")) {
                        playerScore += 1;
                        alert(`You win! ${playerSelection} beats ${computerSelection}`);
                }
                else {
                    computerScore += 1;
                    alert(`You lose! ${computerSelection} beats ${playerSelection}`);  
                }
            }

            function capitalize(input) {
                return input.charAt(0).toUpperCase() + input.slice(1).toLowerCase();
            }

            function game() {
                 playRound();

                    function interimScore() {
                    alert(`It's ${playerScore} against ${computerScore}`)
                }

                function result() {}
                    if (playerScore > computerScore) {
                        alert("Congratulations! You've won!");
                    }
                    else if (playerScore < computerScore) {
                        alert("You've lost :(");
                    }
                    else {
                        alert("It's a draw! No one wins");
                    }
                }

            game();
        
        </script>
    </body>
</html>